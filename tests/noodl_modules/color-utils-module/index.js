!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){var i={name:"HEX to RGB",category:"Color",initialize:function(){this._internal.inputHex="#000000",this._internal.outputRGB=[0,0,0],this._internal.hasScheduledConversion=!1},inputs:{inputHex:{type:"color",displayName:"HEX color",group:"HEX",set:function(t){this._internal.inputHex!==t&&(this._internal.inputHex=t,this.scheduleConvertion())}}},outputs:{red:{type:"number",displayName:"Red",group:"RGB",getter:function(){return this._internal.outputRGB[0]}},green:{type:"number",displayName:"Green",group:"RGB",getter:function(){return this._internal.outputRGB[1]}},blue:{type:"number",displayName:"Blue",group:"RGB",getter:function(){return this._internal.outputRGB[2]}}},prototypeExtensions:{scheduleConvertion:function(){this._internal.hasScheduledConversion||(this._internal.hasScheduledConversion=!0,this.scheduleAfterInputsHaveUpdated((function(){this.convertColor(),this._internal.hasScheduledConversion=!1})))},convertColor:function(){this._internal.outputRGB=r(this._internal.inputHex),this.flagOutputDirty("red"),this.flagOutputDirty("green"),this.flagOutputDirty("blue")}}},o={name:"RGB to HEX",category:"Color",initialize:function(){this._internal.inputRGB=[0,0,0],this._internal.outputHex="#000000",this._internal.hasScheduledConversion=!1},inputs:{red:{type:"number",displayName:"Red",group:"RGB",set:function(t){t=this.limit(t),this._internal.inputRGB[0]!==t&&(this._internal.inputRGB[0]=t,this.scheduleConvertion())}},green:{type:"number",displayName:"Green",group:"RGB",set:function(t){t=this.limit(t),this._internal.inputRGB[1]!==t&&(this._internal.inputRGB[1]=t,this.scheduleConvertion())}},blue:{type:"number",displayName:"Blue",group:"RGB",set:function(t){t=this.limit(t),this._internal.inputRGB[2]!==t&&(this._internal.inputRGB[2]=t,this.scheduleConvertion())}}},outputs:{outputHex:{type:"color",displayName:"Color",group:"HEX",getter:function(){return this._internal.outputHex}}},prototypeExtensions:{scheduleConvertion:function(){this._internal.hasScheduledConversion||(this._internal.hasScheduledConversion=!0,this.scheduleAfterInputsHaveUpdated((function(){this.convertColor(),this._internal.hasScheduledConversion=!1})))},convertColor:function(){this._internal.outputHex=s(this._internal.inputRGB[0],this._internal.inputRGB[1],this._internal.inputRGB[2]),this.flagOutputDirty("outputHex")},limit:function(t){return t>255?255:t<0?0:t}}},u={name:"Hue Rotation",category:"Color",initialize:function(){this._internal.inputHex="#000000",this._internal.outputHex="#000000",this._internal.rotationValue=0,this._internal.hasScheduledRotation=!1},inputs:{inputHex:{type:"color",displayName:"Color",group:"Rotate",set:function(t){this._internal.inputHex!==t&&(this._internal.inputHex=t,this.scheduleRotation())}},rotationValue:{type:"number",displayName:"Rotation",group:"Rotate",set:function(t){this._internal.rotationValue!==t&&(this._internal.rotationValue=t,this.scheduleRotation())}}},outputs:{outputHex:{type:"color",displayName:"Color",group:"Result",getter:function(){return this._internal.outputHex}}},prototypeExtensions:{scheduleRotation:function(){this._internal.hasScheduledRotation||(this._internal.hasScheduledRotation=!0,this.scheduleAfterInputsHaveUpdated((function(){this.rotateColor(),this._internal.hasScheduledRotation=!1})))},rotateColor:function(){var t=r(this._internal.inputHex),e=function(t,e,n){var i,o,u=t/255,r=e/255,s=n/255,a=Math.max(u,r,s),l=Math.min(u,r,s),p=(a+l)/2;if(a==l)i=o=0;else{var c=a-l;switch(o=p>.5?c/(2-a-l):c/(a+l),a){case u:i=(r-s)/c+(r<s?6:0);break;case r:i=(s-u)/c+2;break;case s:i=(u-r)/c+4}i/=6}return[i,o,p]}(t[0],t[1],t[2]),n=this._internal.rotationValue||0,i=360*e[0]+n;i/=360,t=function(t,e,n){var i,o,u;if(0==e)i=o=u=n;else{var r=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;i=r(a,s,t+1/3),o=r(a,s,t),u=r(a,s,t-1/3)}return[i*=255,o*=255,u*=255]}(i-=Math.floor(i),e[1],e[2]),this._internal.outputHex=s(t[0],t[1],t[2]),this.flagOutputDirty("outputHex")}}};function r(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}function s(t,e,n){return"#"+(16777216+(n|e<<8|t<<16)).toString(16).slice(1)}n(1).defineModule({nodes:[i,o,u],setup:function(){console.log("color-utils-module loaded")}})},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i={purple:"component",green:"data",default:"default",grey:"default"};Noodl.defineNode=function(t){var e={};for(var o in e.name=t.name,e.displayNodeName=t.displayName,e.usePortAsLabel=t.useInputAsLabel,e.color=i[t.color||"default"],e.category=t.category||"Modules",e.initialize=function(){this.inputs={};var e=this.outputs={},n=this;this.setOutputs=function(t){for(var i in t)e[i]=t[i],n.flagOutputDirty(i)},"function"==typeof t.initialize&&t.initialize.apply(this)},e.inputs={},e.outputs={},t.inputs)e.inputs[o]={type:"object"===n(t.inputs[o])?t.inputs[o].type:t.inputs[o],displayName:"object"===n(t.inputs[o])?t.inputs[o].displayName:void 0,group:"object"===n(t.inputs[o])?t.inputs[o].group:void 0,default:"object"===n(t.inputs[o])?t.inputs[o].default:void 0,set:function(){var e=o;return function(n){this.inputs[e]=n,t.changed&&"function"==typeof t.changed[e]&&t.changed[e].apply(this,[n])}}()};for(var o in t.signals)e.inputs[o]={type:"signal",displayName:"object"===n(t.signals[o])?t.signals[o].displayName:void 0,valueChangedToTrue:function(){var e=o;return function(){var i=this,o="object"===n(t.signals[e])?t.signals[e].signal:t.signals[e];"function"==typeof o&&this.scheduleAfterInputsHaveUpdated((function(){o.apply(i)}))}}()};for(var o in t.outputs)"signal"===t.outputs[o]?e.outputs[o]={type:"signal"}:e.outputs[o]={type:"object"===n(t.outputs[o])?t.outputs[o].type:t.outputs[o],displayName:"object"===n(t.outputs[o])?t.outputs[o].displayName:void 0,group:"object"===n(t.outputs[o])?t.outputs[o].group:void 0,getter:function(){var t=o;return function(){return this.outputs[t]}}()};for(var o in e.methods=e.prototypeExtensions={},t.methods)e.prototypeExtensions[o]=t.methods[o];return e.methods.onNodeDeleted&&(e.methods._onNodeDeleted=function(){this.__proto__.__proto__._onNodeDeleted.call(this),e.methods.onNodeDeleted.value.call(this)}),{node:e,setup:t.setup}},Noodl.defineCollectionNode=function(t){var e={name:t.name,category:t.category,color:"data",inputs:t.inputs,outputs:Object.assign({Items:"array","Fetch Started":"signal","Fetch Completed":"signal"},t.outputs||{}),signals:Object.assign({Fetch:function(){var e=this;this.sendSignalOnOutput("Fetch Started");var n=t.fetch.call(this,(function(){e.sendSignalOnOutput("Fetch Completed")}));this.setOutputs({Items:n})}},t.signals||{})};return Noodl.defineNode(e)},Noodl.defineModelNode=function(t){var e={name:t.name,category:t.category,color:"data",inputs:{Id:"string"},outputs:{Fetched:"signal"},changed:{Id:function(t){var e=this;this._object&&this._changeListener&&this._object.off("change",this._changeListener),this._object=Noodl.Object.get(t),this._changeListener=function(t,n){var i={};i[t]=n,e.setOutputs(i)},this._object.on("change",this._changeListener),this.setOutputs(this._object.data),this.sendSignalOnOutput("Fetched")}},initialize:function(){}};for(var n in t.properties)e.inputs[n]=t.properties[n],e.outputs[n]=t.properties[n],e.changed[n]=function(){var t=n;return function(e){this._object&&this._object.set(t,e)}}();return Noodl.defineNode(e)},Noodl.defineReactNode=function(t){var e=Noodl.defineNode(t);return e.node.getReactComponent=t.getReactComponent,e.node.inputProps=t.inputProps,e.node.inputCss=t.inputCss,e.node.outputProps=t.outputProps,e.node.setup=t.setup,e.node},t.exports=Noodl}]);
//# sourceMappingURL=index.js.map